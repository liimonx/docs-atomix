/**
 * Data Table Component Variable Overrides
 * =============================================================================
 *
 * Premium data table: glass-tinted surface, contrasting header, refined cell
 * padding, clear row states (hover / striped / selected), brand-tinted sort
 * icon and resize handle, polished search input and pagination zone.
 *
 * @see https://atomix.design/docs/components/data-table
 */

// =============================================================================
// Data Table Variable Configuration
// =============================================================================
@use '../../../node_modules/@shohojdhara/atomix/src/styles/01-settings/settings.data-table' with (

  // ---------------------------------------------------------------------------
  // Table surface
  // ---------------------------------------------------------------------------
  $data-table-bg:             var(--atomix-primary-bg-subtle),
  $data-table-color:          var(--atomix-body-color),
  $data-table-border-color:   var(--atomix-border-color),
  $data-table-border-width:   1px,
  $data-table-border-style:   solid,
  $data-table-border-radius:  0.875rem,

  // ---------------------------------------------------------------------------
  // Header
  // ---------------------------------------------------------------------------
  $data-table-header-bg:          var(--atomix-secondary-bg-subtle),
  $data-table-header-color:       var(--atomix-body-color),
  $data-table-header-font-weight: 600,

  // ---------------------------------------------------------------------------
  // Cell padding — base / dense
  // ---------------------------------------------------------------------------
  $data-table-cell-padding-y:     0.75rem,
  $data-table-cell-padding-x:     1rem,
  $data-table-cell-padding-y-sm:  0.4375rem,   // 7px
  $data-table-cell-padding-x-sm:  0.75rem,

  // ---------------------------------------------------------------------------
  // Row states
  // ---------------------------------------------------------------------------
  $data-table-striped-bg:   rgba(0, 0, 0, 0.025),
  $data-table-hover-bg:     var(--atomix-secondary-bg-subtle),

  // ---------------------------------------------------------------------------
  // Pagination zone
  // ---------------------------------------------------------------------------
  $data-table-pagination-padding-y:       0.5rem,
  $data-table-pagination-padding-x:       0.75rem,
  $data-table-pagination-bg:              var(--atomix-primary-bg-subtle),
  $data-table-pagination-border-color:    var(--atomix-border-color),
  $data-table-pagination-hover-bg:        var(--atomix-secondary-bg-subtle),
  $data-table-pagination-active-bg:       var(--atomix-primary),
  $data-table-pagination-active-color:    #ffffff,
  $data-table-pagination-disabled-color:  var(--atomix-disabled-text-emphasis),

  // ---------------------------------------------------------------------------
  // Search input
  // ---------------------------------------------------------------------------
  $data-table-search-bg:                var(--atomix-primary-bg-subtle),
  $data-table-search-border-color:      var(--atomix-border-color),
  $data-table-search-focus-border-color: var(--atomix-primary),
  $data-table-search-padding-y:         0.5rem,
  $data-table-search-padding-x:         0.75rem,
  $data-table-search-border-radius:     0.625rem,

  // ---------------------------------------------------------------------------
  // Sort icon
  // ---------------------------------------------------------------------------
  $data-table-sort-icon-size:         0.875rem,
  $data-table-sort-icon-color:        var(--atomix-tertiary-text-emphasis),
  $data-table-sort-icon-active-color: var(--atomix-primary)
);

// =============================================================================
// Additive Polish
// =============================================================================

// Container — card-like shell
.c-data-table-container {
  border-radius: 0.875rem;
  border: 1px solid var(--atomix-border-color);
  overflow: hidden;
  box-shadow:
    0 1px 3px 0 rgba(0, 0, 0, 0.06),
    0 1px 2px -1px rgba(0, 0, 0, 0.06);
}

// Scrollable wrapper
.c-data-table-wrapper {
  border-radius: inherit;
}

.c-data-table {

  // --------------------------------------------------------------------------
  // Header row — sticky toolbar-like treatment
  // --------------------------------------------------------------------------
  &__header-cell {
    font-size: 0.8125rem;           // 13px — crisp column label
    letter-spacing: 0.02em;
    text-transform: uppercase;
    border-bottom: 2px solid var(--atomix-border-color); // stronger header rule
    color: var(--atomix-secondary-text-emphasis);
    white-space: nowrap;

    // Sortable — brand hover
    &--sortable:hover {
      color: var(--atomix-body-color);
      background-color: var(--atomix-secondary-bg-subtle);
    }

    // Drag-over indicator
    &--drag-over {
      border-left: 2px solid var(--atomix-primary);
    }
  }

  // --------------------------------------------------------------------------
  // Body cells — consistent row height
  // --------------------------------------------------------------------------
  &__cell {
    font-size: 0.875rem;            // 14px
    vertical-align: middle;
    border-bottom: 1px solid var(--atomix-border-color);
  }

  // --------------------------------------------------------------------------
  // Row hover + selected states
  // --------------------------------------------------------------------------
  &__row {
    transition: background-color 0.14s cubic-bezier(0.4, 0, 0.2, 1);

    &:last-child &__cell,
    &:last-child td {
      border-bottom: none;          // no orphan border on last row
    }

    &--selected {
      background-color: rgba(var(--atomix-primary-rgb, 19, 164, 236), 0.07) !important;

      td,
      .c-data-table__cell {
        border-bottom-color: rgba(var(--atomix-primary-rgb, 19, 164, 236), 0.15);
      }
    }
  }

  // --------------------------------------------------------------------------
  // Column resize handle — brand on hover
  // --------------------------------------------------------------------------
  &__resize-handle {
    width: 3px;
    border-radius: 2px;
    transition: background-color 0.14s ease;

    &:hover {
      background-color: var(--atomix-primary);
      opacity: 0.7;
    }
  }

  // --------------------------------------------------------------------------
  // Sort icon — smooth transition
  // --------------------------------------------------------------------------
  &__sort-icon {
    transition: color 0.14s cubic-bezier(0.4, 0, 0.2, 1);
    margin-left: 6px;
  }

  // --------------------------------------------------------------------------
  // Column filter input
  // --------------------------------------------------------------------------
  &__column-filter {
    border-radius: 0.375rem;
    font-size: 0.8125rem;
    border-color: var(--atomix-border-color);
    background-color: var(--atomix-primary-bg-subtle);
    transition: border-color 0.16s cubic-bezier(0.4, 0, 0.2, 1);

    &:focus {
      outline: none;
      border-color: var(--atomix-primary);
      box-shadow: 0 0 0 3px rgba(var(--atomix-primary-rgb, 19, 164, 236), 0.14);
    }
  }

  // --------------------------------------------------------------------------
  // Empty / loading states
  // --------------------------------------------------------------------------
  &__empty-cell,
  &__loading-cell {
    padding: 3rem 1rem;
    color: var(--atomix-tertiary-text-emphasis);
    font-size: 0.875rem;
  }
}

// Toolbar — clean spacing
.c-data-table-toolbar {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--atomix-border-color);
  background-color: var(--atomix-secondary-bg-subtle);
  margin-bottom: 0;
  gap: 0.75rem;
}

// Search input
.c-data-table-search {
  &__input {
    width: 220px;
    transition:
      border-color 0.16s cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow   0.16s cubic-bezier(0.4, 0, 0.2, 1);

    &:focus {
      border-color: var(--atomix-primary);
      box-shadow: 0 0 0 3px rgba(var(--atomix-primary-rgb, 19, 164, 236), 0.14);
    }
  }
}

// Pagination zone
.c-data-table__pagination-container {
  padding: 0.75rem 1rem;
  border-top: 1px solid var(--atomix-border-color);
  background-color: var(--atomix-secondary-bg-subtle);
  margin-top: 0;
}
